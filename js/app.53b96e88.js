(function(t){function e(e){for(var i,r,s=e[0],l=e[1],c=e[2],E=0,f=[];E<s.length;E++)r=s[E],Object.prototype.hasOwnProperty.call(n,r)&&n[r]&&f.push(n[r][0]),n[r]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(t[i]=l[i]);u&&u(e);while(f.length)f.shift()();return o.push.apply(o,c||[]),a()}function a(){for(var t,e=0;e<o.length;e++){for(var a=o[e],i=!0,s=1;s<a.length;s++){var l=a[s];0!==n[l]&&(i=!1)}i&&(o.splice(e--,1),t=r(r.s=a[0]))}return t}var i={},n={app:0},o=[];function r(e){if(i[e])return i[e].exports;var a=i[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=t,r.c=i,r.d=function(t,e,a){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(a,i,function(e){return t[e]}.bind(null,i));return a},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/vue-county-WeatherComponent/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=e,s=s.slice();for(var c=0;c<s.length;c++)e(s[c]);var u=l;o.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"034f":function(t,e,a){"use strict";var i=a("85ec"),n=a.n(i);n.a},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var i=a("2b0e"),n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("b-alert",{staticClass:"m-3 mb-5",attrs:{show:"",dismissible:""}},[t._v(" 資料來源: "),a("a",{attrs:{href:"https://opendata.epa.gov.tw/Data/Details/ATM00698/?show=all"}},[t._v("行政院環境保護署。環境資源資料開放平臺")]),a("br"),a("a",{attrs:{href:"https://data.gov.tw/license"}},[t._v("政府資料開放授權條款")])]),a("b-navbar",{attrs:{toggleable:"md",type:"dark",variant:"info"}},[a("b-navbar-brand",{attrs:{href:"#"}},[a("p",{staticClass:"h3 mt-2",attrs:{onclick:"window.location.href=window.location.href"}},[a("b-icon-brightness-alt-low"),t._v("Weather ")],1)]),a("b-navbar-toggle",{staticClass:"ml-auto",attrs:{target:"nav-collapse"}}),a("b-collapse",{attrs:{id:"nav-collapse","is-nav":""}},[a("b-navbar-nav",{staticClass:"ml-auto"},[a("b-navbar-nav",{staticClass:"mx-auto"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.searchCounty,expression:"searchCounty"}],staticClass:"mr-sm-2",attrs:{size:"sm",placeholder:"搜尋縣市名",disabled:t.isDisable},domProps:{value:t.searchCounty},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.keywordSearch(e)},input:function(e){e.target.composing||(t.searchCounty=e.target.value)}}}),a("b-button",{staticClass:"my-2 my-sm-0",attrs:{size:"sm",type:"button",disabled:t.isDisable},on:{click:t.keywordSearch}},[t._v("查詢")])],1),a("b-nav-item-dropdown",{attrs:{text:"縣市",right:""}},t._l(t.ajaxCountyList,(function(e,i){return a("b-dropdown-item",{key:i,on:{click:function(a){return t.keywordSearch(e)}}},[t._v(t._s(e))])})),1)],1)],1)],1),a("div",{staticClass:"text-center mt-3",class:{hide:t.isHide}},[a("b-spinner",{attrs:{variant:"primary",label:"Text Centered"}})],1),a("div",{staticClass:"justify-content-center mt-3",class:{HasResult:t.hasResult}},[a("b-spinner",{staticClass:"no-result-icon",attrs:{label:"Large Spinner",type:"grow"}}),a("b-icon-backspace-reverse-fill",{staticClass:"no-result-icon"}),a("span",{staticClass:"no-result-font"},[t._v("沒找到ㄟ")]),a("b-spinner",{staticClass:"no-result-icon",attrs:{label:"Large Spinner",type:"grow"}})],1),a("InfoCard",{attrs:{"info-list":t.renderList,"locate-img":t.locationImg,"like-list":t.focusList},on:{updateLikeList:t.updateFocusList}})],1)},o=[],r=(a("7db0"),a("4160"),a("caad"),a("2532"),a("159b"),a("96cf"),a("1da1")),s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-container",{staticClass:"mt-5 d-none d-md-block"},[a("b-row",t._l(t.likeList,(function(e,i){return a("b-col",{key:i,attrs:{md:"4"}},[a("b-card",{staticClass:"mb-2",staticStyle:{"max-width":"20rem"},attrs:{"bg-variant":"dark","text-variant":"white",title:e.siteName,"img-src":e.imgSrc,"img-alt":e.siteName,"img-top":"",tag:"article"}},[a("b-card-text",[t._v(" 溫度:"+t._s(e.temperature)+" "),a("br"),t._v(" 風向:"+t._s(e.WindDirection)+" "),a("br"),t._v(" 風量:"+t._s(e.windPower)+" "),a("br"),t._v(" "+t._s(e.gust)+"級風 "),a("br"),t._v(" 能見度:"+t._s(e.visibility)+" "),a("br"),t._v(" 濕度:"+t._s(e.moisture)+" "),a("br"),t._v(" 氣壓:"+t._s(e.atmosphericPressure)+" "),a("br"),t._v(" 天氣:"+t._s(e.weather)+" "),a("br"),t._v(" 降雨機率:"+t._s(e.rainfall1day)+" "),a("br"),t._v(" 測量單位:"+t._s(e.unit)+" "),a("br"),t._v(" 更新時間:"+t._s(e.dataCreationDate)+" "),a("br")]),a("b-button",{attrs:{variant:"primary"},on:{click:function(a){return t.removeItemToLike(e)}}},[t._v("移除最愛")])],1)],1)})),1)],1),a("b-container",{staticClass:"mt-5 d-none d-md-block"},[a("b-row",t._l(t.infoList,(function(e,i){return a("b-col",{key:i,attrs:{md:"4"}},[a("b-card",{staticClass:"mb-2",staticStyle:{"max-width":"20rem"},attrs:{title:e.siteName,"img-src":e.imgSrc,"img-alt":e.siteName,"img-top":"",tag:"article"}},[a("b-card-text",[t._v(" 溫度:"+t._s(e.temperature)+" "),a("br"),t._v(" 風向:"+t._s(e.WindDirection)+" "),a("br"),t._v(" 風量:"+t._s(e.windPower)+" "),a("br"),t._v(" "+t._s(e.gust)+"級風 "),a("br"),t._v(" 能見度:"+t._s(e.visibility)+" "),a("br"),t._v(" 濕度:"+t._s(e.moisture)+" "),a("br"),t._v(" 氣壓:"+t._s(e.atmosphericPressure)+" "),a("br"),t._v(" 天氣:"+t._s(e.weather)+" "),a("br"),t._v(" 降雨機率:"+t._s(e.rainfall1day)+" "),a("br"),t._v(" 測量單位:"+t._s(e.unit)+" "),a("br"),t._v(" 更新時間:"+t._s(e.dataCreationDate)+" "),a("br")]),a("b-button",{attrs:{variant:"primary"},on:{click:function(a){return t.addItemToLike(e)}}},[t._v("加入最愛")])],1)],1)})),1)],1),a("b-container",{staticClass:"d-block d-md-none mt-5",attrs:{fuild:""}},[a("b-list-group",t._l(t.likeList,(function(e,i){return a("b-list-group-item",{key:i,staticClass:"flex-column align-items-start",attrs:{variant:"warning"}},[a("div",{staticClass:"d-flex w-100 justify-content-between"},[a("h5",{staticClass:"mb-1"},[t._v(t._s(e.siteName))]),a("small",[t._v(" 更新時間:"+t._s(e.dataCreationDate)+" "),a("b-button",{attrs:{variant:"danger"},on:{click:function(a){return t.removeItemToLike(e)}}},[a("b-icon-heart-fill")],1)],1)]),a("p",{staticClass:"mb-1"},[t._v(" 溫度:"+t._s(e.temperature)+" "),a("br"),t._v(" 天氣:"+t._s(e.weather)+" "),a("br"),t._v(" 降雨機率:"+t._s(e.rainfall1day)+" "),a("br")]),a("small",[t._v("測量單位:"+t._s(e.unit))])])})),1)],1),a("b-container",{staticClass:"d-block d-md-none mt-5",attrs:{fuild:""}},[a("b-list-group",t._l(t.infoList,(function(e,i){return a("b-list-group-item",{key:i,staticClass:"flex-column align-items-start",attrs:{variant:"dark"}},[a("div",{staticClass:"d-flex w-100 justify-content-between"},[a("h5",{staticClass:"mb-1"},[t._v(t._s(e.siteName))]),a("small",[t._v(" 更新時間:"+t._s(e.dataCreationDate)+" "),a("b-button",{attrs:{variant:"primary"},on:{click:function(a){return t.addItemToLike(e)}}},[a("b-icon-heart")],1)],1)]),a("p",{staticClass:"mb-1"},[t._v(" 溫度:"+t._s(e.temperature)+" "),a("br"),t._v(" 天氣:"+t._s(e.weather)+" "),a("br"),t._v(" 降雨機率:"+t._s(e.rainfall1day)+" "),a("br")]),a("small",[t._v("測量單位:"+t._s(e.unit))])])})),1)],1)],1)},l=[],c=(a("fb6a"),a("a434"),{props:["infoList","locateImg","likeList"],methods:{updateLikeList:function(t){this.$emit("updateLikeList",t)},addItemToLike:function(t){var e=this.likeList.slice(0);e.unshift(t),this.updateLikeList(e)},removeItemToLike:function(t){var e=this.likeList.slice(0);e.forEach((function(a,i){a.siteName==t.siteName&&e.splice(i,1)})),this.updateLikeList(e)}}}),u=c,E=a("2877"),f=Object(E["a"])(u,s,l,!1,null,null,null),m=f.exports,p={name:"App",components:{InfoCard:m},data:function(){return{isHide:!0,isDisable:!0,hasResult:!0,initList:[],renderList:[],ajaxCountyList:[],searchCounty:"",focusList:[],locationImg:[{location:"南沙島",img:"https://fakeimg.pl/200x100/38CAE8/EEEEEE/?retina=2&text=南沙島&font=noto"},{location:"東吉島",img:"https://fakeimg.pl/200x100/38E8A5/EEEEEE/?retina=3&text=東吉島&font=noto"},{location:"東沙島",img:"https://fakeimg.pl/200x100/38E877/EEEEEE/?retina=3&text=東沙島&font=noto"},{location:"馬祖",img:"https://fakeimg.pl/200x100/B623E8/EEEEEE/?retina=4&text=馬祖&font=noto"},{location:"金門",img:"https://fakeimg.pl/200x100/E89213/EEEEEE/?retina=5&text=金門&font=noto"},{location:"澎湖",img:"https://fakeimg.pl/200x100/109CE8/EEEEEE/?retina=6&text=澎湖&font=noto"},{location:"蘭嶼",img:"https://fakeimg.pl/200x100/1F75FF/EEEEEE/?retina=7&text=蘭嶼&font=noto"},{location:"大武",img:"https://fakeimg.pl/200x100/46CA41/EEEEEE/?retina=8&text=大武&font=noto"},{location:"臺東",img:"https://fakeimg.pl/200x100/22E80C/EEEEEE/?retina=9&text=臺東&font=noto"},{location:"成功",img:"https://fakeimg.pl/200x100/6F0DFF/EEEEEE/?retina=10&text=成功&font=noto"},{location:"花蓮",img:"https://fakeimg.pl/200x100/20E8AF/EEEEEE/?retina=11&text=花蓮&font=noto"},{location:"恆春",img:"https://fakeimg.pl/200x100/0D6FFF/EEEEEE/?retina=12&text=恆春&font=noto"},{location:"高雄",img:"https://fakeimg.pl/200x100/0DAFBE/EEEEEE/?retina=13&text=高雄&font=noto"},{location:"臺南",img:"https://fakeimg.pl/200x100/FFA60D/EEEEEE/?retina=14&text=臺南&font=noto"},{location:"嘉義",img:"https://fakeimg.pl/200x100/E88058/EEEEEE/?retina=15&text=嘉義&font=noto"},{location:"阿里山",img:"https://fakeimg.pl/200x100/BF8D7E/EEEEEE/?retina=16&text=阿里山&font=noto"},{location:"玉山",img:"https://fakeimg.pl/200x100/95BCBF/EEEEEE/?retina=17&text=玉山&font=noto"},{location:"日月潭",img:"https://fakeimg.pl/200x100/78BCFF/EEEEEE/?retina=18&text=日月潭&font=noto"},{location:"梧棲",img:"https://fakeimg.pl/200x100/90D9E8/EEEEEE/?retina=19&text=梧棲&font=noto"},{location:"臺中",img:"https://fakeimg.pl/200x100/7788BF/EEEEEE/?retina=20&text=臺中&font=noto"},{location:"新竹",img:"https://fakeimg.pl/200x100/EBB47F/EEEEEE/?retina=21&text=新竹&font=noto"},{location:"新屋",img:"https://fakeimg.pl/200x100/4E97BF/EEEEEE/?retina=22&text=新屋&font=noto"},{location:"板橋",img:"https://fakeimg.pl/200x100/A350BF/EEEEEE/?retina=23&text=板橋&font=noto"},{location:"臺北",img:"https://fakeimg.pl/200x100/F5564B/EEEEEE/?retina=24&text=臺北&font=noto"},{location:"陽明山",img:"https://fakeimg.pl/200x100/F5B4F1/EEEEEE/?retina=25&text=陽明山&font=noto"},{location:"鞍部",img:"https://fakeimg.pl/200x100/E0E0AF/EEEEEE/?retina=26&text=鞍部&font=noto"},{location:"蘇澳",img:"https://fakeimg.pl/200x100/7BD0DF/EEEEEE/?retina=27&text=蘇澳&font=noto"},{location:"宜蘭",img:"https://fakeimg.pl/200x100/7EB1DF/EEEEEE/?retina=28&text=宜蘭&font=noto"},{location:"基隆",img:"https://fakeimg.pl/200x100/FF6761/EEEEEE/?retina=29&text=基隆&font=noto"},{location:"彭佳嶼",img:"https://fakeimg.pl/200x100/5E78FF/EEEEEE/?retina=30&text=彭佳嶼&font=noto"},{location:"其他",img:"https://fakeimg.pl/200x100/dddddd/EEEEEE/?retina=30&font=noto"}]}},methods:{loadData:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var e,a,i,n,o,r=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log("init ajax start"),e={},t.prev=2,t.next=5,this.axios.get("https://cors-anywhere.herokuapp.com/http://opendata.epa.gov.tw/webapi/Data/ATM00698/?$skip=0&$top=400&format=json");case 5:a=t.sent,t.next=13;break;case 8:t.prev=8,t.t0=t["catch"](2),console.error(t.t0),this.hasResult=!1,alert("sorry ajax 出問題");case 13:i=new Date,n=i.getMinutes()>30?i.getFullYear()-1911+"/"+(i.getMonth()+1)+"/"+i.getDate()+" "+i.getHours()+":00:00":i.getFullYear()-1911+"/"+(i.getMonth()+1)+"/"+i.getDate()+" "+(i.getHours()-1)+":00:00",o=[],a.data.forEach((function(t){if(t.DataCreationDate==n){var a=!1;try{o.forEach((function(i){if(i.siteName==t.SiteName)throw a=!0,e}))}catch(i){if(i!==e)throw i}a||(r.ajaxCountyList.push(t.SiteName),o.push({siteName:t.SiteName,windDirection:t.WindDirection,windPower:t.WindPower,gust:t.Gust,visibility:t.Visibility,temperature:t.Temperature,moisture:t.Moisture,atmosphericPressure:t.AtmosphericPressure,weather:t.Weather,rainfall1day:t.Rainfall1day,unit:t.Unit,dataCreationDate:t.DataCreationDate,imgSrc:r.findImage(t.SiteName)}))}})),this.isHide=!0,this.initList=o,this.renderList=o,this.isDisable=!1,this.hasResult=!0,console.log("create ajax end");case 23:case"end":return t.stop()}}),t,this,[[2,8]])})));function e(){return t.apply(this,arguments)}return e}(),updateFocusList:function(t){this.focusList=t},findImage:function(t){var e;try{e=JSON.parse(JSON.stringify(this.locationImg.find((function(e){return e.location==t}))))}catch(a){e=JSON.parse(JSON.stringify(this.locationImg.find((function(t){return"其他"==t.location}))))}return e.img},keywordSearch:function(t){var e=this,a=[];""!=t&&(this.searchCounty=t),this.initList.forEach((function(t){t.siteName.includes(e.searchCounty)&&a.push(t)})),0==a.length?this.hasResult=!1:this.hasResult=!0,this.renderList=a}},beforeMount:function(){this.isHide=!1},created:function(){this.loadData()}},d=p,h=(a("034f"),Object(E["a"])(d,n,o,!1,null,null,null)),b=h.exports,g=a("a7fe"),v=a.n(g),x=a("bc3a"),_=a.n(x),k=(a("f9e3"),a("2dd8"),a("5f5b")),y=a("b1e0");i["default"].config.productionTip=!1,i["default"].use(k["a"]),i["default"].use(y["a"]),i["default"].use(v.a,_.a),new i["default"]({render:function(t){return t(b)}}).$mount("#app")},"85ec":function(t,e,a){}});
//# sourceMappingURL=app.53b96e88.js.map